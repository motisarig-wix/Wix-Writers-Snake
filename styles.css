/* Reset & base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body { margin: 0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background: #f3f4f6; color: #0b0b0b; }
.wrap { min-height: 100vh; display: grid; place-items: center; padding: 24px; perspective: 1200px; position: relative; }
/* Eat flash background */
.wrap::after { content: ""; position: absolute; inset: 0; pointer-events: none; z-index: 0; opacity: 0; background: radial-gradient(70% 70% at 50% 40%, rgba(200,253,160,0.55), rgba(200,253,160,0.0) 65%), linear-gradient(180deg, rgba(200,253,160,0.35), rgba(255,255,255,0) 65%); }
.wrap.eat-flash::after { animation: eatFlash 630ms cubic-bezier(.2,.8,.2,1); }
@keyframes eatFlash { 0% { opacity: 0; } 20% { opacity: 0.6; } 100% { opacity: 0; } }

/* Clay phone */
.phone {
	width: 300px;
	background: #e9e4de;
	border-radius: 62px 62px 84px 84px / 74px 74px 96px 96px;
	box-shadow: 0 36px 96px rgba(0,0,0,0.2), inset 0 2px 0 rgba(255,255,255,0.85);
	padding: 18px 16px 22px;
	border: 1px solid rgba(0,0,0,0.05);
	position: relative;
	transform-origin: 50% 70%;
	will-change: transform, opacity;
	animation: deviceIntro 0.8s cubic-bezier(.2,.9,.25,1) both;
	z-index: 1;
}
@keyframes deviceIntro {
	0% { opacity: 0; transform: translateY(40px) rotateX(35deg) rotateZ(-8deg) scale(0.94); }
	60% { opacity: 1; transform: translateY(-6px) rotateX(-3deg) rotateZ(1deg) scale(1.02); }
	100% { opacity: 1; transform: translateY(0) rotateX(0) rotateZ(0) scale(1); }
}
@media (prefers-reduced-motion: reduce) {
	.phone { animation: none; opacity: 1; transform: none; }
}

.phone-top { height: 52px; display: grid; place-items: center; }
/* vertical dotted speaker reminiscent of 3310 */
.speaker {
	width: 12px; height: 68px; border-radius: 10px; position: relative; overflow: hidden; background: transparent; border: 1px solid rgba(0,0,0,0.04);
}
.speaker::before { content: ""; position: absolute; inset: 0; background: radial-gradient(circle, #d4cdc6 40%, transparent 41%) center / 8px 12px repeat; opacity: 0.9; }

/* Faceplate and screen */
.faceplate { background: #e5e7eb; border-radius: 48px 48px 40px 40px; padding: 14px; border: 1px solid rgba(0,0,0,0.06); box-shadow: inset 0 1px 0 rgba(255,255,255,0.7); }
.screen-bezel { background: #a7c657; border-radius: 22px; padding: 10px; border: 2px solid #7f9443; }
.screen { position: relative; }

#gameCanvas { width: 100%; height: auto; image-rendering: pixelated; background: #203b15; border: 2px solid #2f4d1f; border-radius: 6px; display: block; }
/* Centered top label */
.lcd-topcode { position: absolute; top: 6px; left: 50%; transform: translateX(-50%); font-weight: 800; color: #c8fda0; opacity: .9; letter-spacing: .02em; text-shadow: 0 1px 0 #16310e; }
.lcd-topcode.nowrap { white-space: nowrap; }
/* HUD bottom: score left, timer right */
.hud { position: absolute; left: 16px; right: 16px; bottom: 6px; top: auto; display: flex; justify-content: space-between; align-items: center; color: #c8fda0; font-weight: 800; text-shadow: 0 1px 0 #16310e; letter-spacing: .02em; }
.hud #score, .hud #timer { font-size: 12px; opacity: .95; }

.overlay { position: absolute; inset: 10px; display: grid; place-items: center; background: rgba(32,59,21,0.55); color: #c8fda0; border: 1px solid rgba(255,255,255,0.12); border-radius: 10px; text-align: center; -webkit-backdrop-filter: blur(8px) saturate(125%); backdrop-filter: blur(8px) saturate(125%); box-shadow: inset 0 8px 24px rgba(0,0,0,0.35), 0 2px 6px rgba(0,0,0,0.15); }
.overlay.hidden { display: none; }
.overlay h2 { margin: 0 0 8px; font-size: 22px; }
/* Matrix-style quick reveal */
.overlay.matrix h2 { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; letter-spacing: .02em; }
.overlay.matrix h2 span { opacity: 0; display: inline-block; transform: translateY(-6px) scaleY(1.3); filter: blur(1px); animation: matrixChar .5s steps(6, end) forwards; animation-delay: calc(var(--i) * 45ms); }
@keyframes matrixChar { 0% { opacity: 0; transform: translateY(-6px) scaleY(1.3); filter: blur(1px); } 70% { opacity: 1; transform: translateY(0) scaleY(1); filter: blur(0.3px); text-shadow: 0 0 6px #a7f28f; } 100% { opacity: 1; transform: none; filter: none; text-shadow: none; } }

.overlay p { margin: 0 0 12px; opacity: 0.9; }
.btn { background: #c8fda0; color: #1b3212; border: 0; padding: 8px 12px; font-weight: 800; border-radius: 6px; cursor: pointer; }
.btn:hover { filter: brightness(0.95); }

/* Nav plate (soft keys + oval) */
.nav-plate { margin-top: 12px; display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 10px; }
.soft-key { height: 40px; border-radius: 16px; background: #e1dad3; border: 1px solid rgba(0,0,0,0.06); box-shadow: inset 0 -2px 2px rgba(0,0,0,0.07); }
.nav-oval { width: 120px; height: 38px; border-radius: 30px; background: #e1dad3; border: 1px solid rgba(0,0,0,0.06); box-shadow: inset 0 -2px 2px rgba(0,0,0,0.07); position: relative; }
/* tiny LED accent */
.nav-oval::after { content: ""; position: absolute; left: 50%; top: 50%; transform: translate(-50%,-10px); width: 46px; height: 6px; background: #cfe7f2; border-radius: 8px; opacity: .7; }

/* Numeric keypad */
.num-pad { margin-top: 14px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 0 6px 6px; }
.num { height: 44px; background: #e1dad3; border: 1px solid rgba(0,0,0,0.06); border-radius: 22px; font-weight: 800; color: #bfb7b0; display: grid; place-items: center; cursor: pointer; box-shadow: inset 0 -2px 2px rgba(0,0,0,0.07); }
.num:active, .soft-key:active { filter: brightness(0.95); }

/* Responsive */
@media (max-width: 380px) { .phone { width: 92vw; } } 